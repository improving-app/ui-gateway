syntax = "proto3";

package gateway.organizations.api;

import "gateway/domain/organization_domain.proto";
import "google/api/annotations.proto";
import "kalix/annotations.proto";

service OrganizationsApi {
  option (kalix.codegen) = {
    action: {}
  };

  rpc establishOrganization (EstablishOrganization) returns (gateway.organizations.domain.OrganizationEstablished) {
    option (google.api.http) = {
      post: "/organizations/establish"
      body: "*"
    };
  }
}

message EstablishOrganization {
  gateway.organizations.domain.OrganizationInfo base_info = 1;
  optional string parent_org = 2;
}